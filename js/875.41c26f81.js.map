{"version":3,"file":"js/875.41c26f81.js","mappings":"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","sources":["webpack://vue-week6/./src/views/LoginView.vue","webpack://vue-week6/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\n  <section class=\"py-20\">\n    <div class=\"container\">\n      <div class=\"login d-flex align-items-center\">\n        <div class=\"login-left p-12 p-sm-8\">\n          <h3 class=\"text-title-sm f-w-bold text-center mb-5\">會員登入 | SIGN IN</h3>\n          <p class=\"text-center text-medium f-w-normal mb-5\">嗨Hi！歡迎回來請直接輸入您的放心初帳號、密碼。</p>\n          <FormView v-slot=\"{ errors }\" @submit=\"login\" class=\"form-block\">\n            <div class=\"form-control mb-4\">\n              <label class=\"text-medium\" for=\"email\">輸入電子郵件*</label>\n              <FieldView class=\"my-2 p-2\" id=\"email\" name=\"email\" type=\"email\" :class=\"{ 'is_invalid': errors['email'] }\"\n                placeholder=\"輸入電子郵件\" rules=\"email|required\" v-model=\"user.email\"\n              >\n              </FieldView>\n              <ErrorMessage style=\"color:red\" name=\"email\" class=\"invalid-feeback\"></ErrorMessage>\n            </div>\n            <div class=\"form-control mb-4\">\n              <label class=\"text-medium\" for=\"password\">輸入密碼*</label>\n              <FieldView class=\"my-2 p-2\" id=\"password\" name=\"password\" type=\"password\" :class=\"{ 'is_invalid': errors['password'] }\"\n                placeholder=\"輸入密碼\" rules=\"required\" v-model=\"user.password\" suggested=\"current-password\" autocomplete=\"on\"\n              >\n              </FieldView>\n              <ErrorMessage style=\"color:red\" name=\"password\" class=\"invalid-feeback\"></ErrorMessage>\n            </div>\n            <div class=\"btn-group\">\n              <button class=\"user-btn user-btn-gray py-3\" type=\"button\">加入會員</button>\n              <button class=\"user-btn user-btn-danger fix-safari py-3\" type=\"button\">快速註冊</button>\n              <button class=\"user-btn user-btn-thirdary py-3\" type=\"submit\">登入</button>\n            </div>\n          </FormView>\n        </div>\n        <div class=\"login-right p-10\">\n          <h3 class=\"text-title-sm f-w-bold text-center mb-5\">直接購買</h3>\n          <p class=\"text-center text-medium f-w-normal mb-5\">\n            因為天天吃，所以更在意。 將為你挑選新鮮優質的蔬果提供大家挑選。\n          </p>\n          <ul class=\"icon d-flex mb-2\">\n            <li class=\"icon-item\">\n              <img src=\"@/assets/images/login-01.png\" alt=\"\">\n              <p class=\"text-medium text-center\">全館消費累積紅利</p>\n            </li>\n            <li class=\"icon-item\">\n              <img src=\"@/assets/images/login-02.png\" alt=\"\">\n              <p class=\"text-medium text-center\">紅利點數折現金</p>\n            </li>\n            <li class=\"icon-item\">\n              <img src=\"@/assets/images/login-03.png\" alt=\"\">\n              <p class=\"text-medium text-center\">不定期紅利加倍送</p>\n            </li>\n          </ul>\n          <router-link to=\"/product\" class=\"user-btn user-btn-thirdary py-3\">現在就挑選新鮮水果！</router-link>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      user: {\n        email: '',\n        password: ''\n      }\n    }\n  },\n  methods: {\n    login () {\n      this.$emitter.emit('isLoading', true)\n      const user = {\n        username: this.user.email,\n        password: this.user.password\n      }\n      this.$http.post(`${process.env.VUE_APP_APIURL}/admin/signin`, user)\n        .then((res) => {\n          const { token, expired } = res.data\n          this.$emitter.emit('isLoading', false)\n          document.cookie = `hexToken=${token}; expires=${new Date(expired)}`\n          this.$router.push({ path: '/admin' })\n        })\n        .catch((err) => {\n          this.$emitter.emit('isLoading', false)\n          const res = {\n            data: {\n              success: false,\n              message: '使用者不存在'\n            }\n          }\n          if (err.response.data.error.code === 'auth/user-not-found') {\n            this.$httpMessageState(res, '登入')\n          } else {\n            res.data.message = '密碼錯誤'\n            this.$httpMessageState(res, '登入')\n          }\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .login {\n    border: 1px solid #a8a8a8;\n    position: relative;\n    margin-top: 59px;\n    &::after{\n      position: absolute;\n      content: '';\n      height: 80%;\n      width: 1px;\n      background-color: #eee;\n      @include absCenter();\n      @include pad{\n        display: none;\n      }\n    }\n    &-left{\n      flex: 0 0 50%;\n      .user-btn{\n        flex: 0 0 33.3333%;\n      }\n      @include pad{\n        flex: 0 0 100%;\n      }\n      @include mobile{\n        padding: 24px;\n      }\n    }\n    &-right{\n      flex: 0 0 50%;\n      .user-btn{\n        width: 60%;\n        margin: 0 auto;\n      }\n      @include pad{\n        display: none;\n      }\n    }\n    .text-title-sm{\n      font-size: 22px;\n    }\n    label{\n      display: block;\n    }\n    input{\n      width: 100%;\n      border: 1px solid #a8a8a8;\n      font-size: 16px;\n      &:focus{\n        outline: none;\n      }\n    }\n    .btn-group{\n      font-size:0;\n    }\n    .user-btn{\n      font-size: 18px;\n      transition: .7s;\n      white-space: nowrap;\n      @include mobile{\n        font-size: 14px;\n      }\n      &.fix-safari{\n        margin-right: -2px;\n        margin-left: -2px;\n      }\n      &:hover{\n        transform: scale(1.05);\n      }\n      @include mobile{\n        &:hover{\n          transform: scale(1);\n        }\n      }\n    }\n    .icon-item{\n      flex: 0 0 33.333%;\n      padding: 10px;\n      img{\n        margin: 0 auto;\n        display: block;\n      }\n    }\n  }\n</style>\n","import { render } from \"./LoginView.vue?vue&type=template&id=b96e351e\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=b96e351e&lang=scss\"\n\nimport exportComponent from \"/Users/ginjack/Desktop/vue-week6/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_5","_hoisted_6","_createVNode","_component_FormView","onSubmit","$options","errors","_hoisted_8","_component_FieldView","id","name","placeholder","rules","$data","email","$event","_component_ErrorMessage","style","_hoisted_10","password","suggested","autocomplete","_hoisted_11","_hoisted_13","_component_router_link","to","data","user","methods","login","this","$emitter","emit","username","$http","post","then","res","token","expired","document","cookie","Date","$router","push","path","catch","err","success","message","response","error","code","$httpMessageState","__exports__","render"],"sourceRoot":""}