"use strict";(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[971],{1417:function(t,i,s){s.d(i,{Z:function(){return w}});var e=s(3396),o=s(7139),d=s(9242);const a={class:"card-title bg-primary"},r={class:"text-medium text-c-white"},c=["disabled"],n={key:0},l=(0,e._)("i",{class:"fas fa-pulse fa-spinner"},null,-1),u=[l],p={key:1},m={class:"card-footer"},h={class:"text-c-primary text-left mb-2"},v={class:"user-price d-flex align-items-center jy-content-between"},g={class:"user-price-discount"};function _(t,i,s,l,_,b){return(0,e.wg)(),(0,e.iD)("div",{class:"card",onClick:i[3]||(i[3]=t=>b.routerTo(s.product.id))},[(0,e._)("div",{class:(0,o.C_)(["favor",{hide:_.isFavorHide}])},[_.isFavor.includes(s.product.id)?((0,e.wg)(),(0,e.iD)("span",{key:0,onClick:i[0]||(i[0]=(0,d.iM)((i=>t.$emit("favorHandler","remove",s.product.id)),["stop"]))},"ðŸ§¡")):((0,e.wg)(),(0,e.iD)("span",{key:1,onClick:i[1]||(i[1]=(0,d.iM)((i=>t.$emit("favorHandler","add",s.product.id)),["stop"]))},"ðŸ¤"))],2),(0,e._)("div",a,[(0,e._)("h3",r,(0,o.zw)(_.title),1)]),(0,e._)("div",{class:"card-body",style:(0,o.j5)({backgroundImage:`url(${s.product.imageUrl})`})},[(0,e._)("div",{class:(0,o.C_)(["addToCart d-none d-sm-block",{"z-index-bottom":"white"===s.originColor}])},[(0,e._)("button",{onClick:i[2]||(i[2]=(0,d.iM)((i=>t.$emit("addCart",1,s.product.id)),["stop"])),type:"button",class:"user-btn user-btn-thirdary py-3",disabled:_.isBtnLoading===s.product.id},[_.isBtnLoading===s.product.id?((0,e.wg)(),(0,e.iD)("span",n,u)):((0,e.wg)(),(0,e.iD)("span",p,"åŠ å…¥è³¼ç‰©è»Š"))],8,c)],2)],4),(0,e._)("div",m,[(0,e._)("h4",{class:"text-medium text-left",style:(0,o.j5)({color:s.originColor})},(0,o.zw)(s.product.title),5),(0,e._)("p",h,(0,o.zw)(s.product.unit)+" / "+(0,o.zw)(s.product.content),1),(0,e._)("div",v,[(0,e._)("p",{class:"user-price-origin",style:(0,o.j5)({color:s.originColor})},"$"+(0,o.zw)(s.product.origin_price),5),(0,e._)("p",g,"$"+(0,o.zw)(s.product.price),1)])])])}var b={props:["titleColor","originColor","product","isLoading","favor"],emits:["addCart","favorHandler"],data(){return{title:"é›™åŒ—éš”æ—¥é…",content:"é€™æ˜¯å…§å®¹",footer:"é€™æ˜¯çµå°¾",isBtnLoading:"",isFavor:[],isFavorHide:!0}},methods:{routerTo(t){this.$router.push(`/product/${t}`)}},watch:{isLoading(){this.isBtnLoading=this.isLoading},favor(){this.isFavor=this.favor}},mounted(){this.isFavor=this.favor||[],-1!==this.$route.fullPath.indexOf("/product")&&-1===this.$route.fullPath.indexOf("/product/")?this.isFavorHide=!1:this.isFavorHide=!0}},y=s(89);const f=(0,y.Z)(b,[["render",_]]);var w=f},3971:function(t,i,s){s.r(i),s.d(i,{default:function(){return W}});var e=s(3396),o=s(7139);const d={class:"oneProduct"},a={class:"row"},r={class:"col-sm-7 col-md-6"},c={class:"oneProduct-img"},n=["src"],l={class:"col-sm-5 col-md-6 pt-3"},u={class:"oneProduct-content pb-10 mb-10 pb-md-5"},p={class:"text-title mb-8 mb-sm-0"},m={class:"text-medium f-size-xs text-c-primary mb-8 mb-sm-0"},h={key:0},v={key:1},g={class:"content-info mb-8 mb-sm-0"},_=(0,e._)("span",{class:"d-block text-medium text-c-primary mb-2 mb-sm-0"},"å•†å“è³‡è¨Š",-1),b={class:"d-block mb-1 mb-sm-0"},y={class:"d-block mb-1 mb-sm-0"},f=(0,e._)("p",{class:"d-sm-none"},[(0,e._)("span",{class:"d-block text-medium text-c-primary mb-2"},"ä»˜æ¬¾æ–¹å¼"),(0,e._)("span",{class:"d-block mb-1"},"ç¾é‡‘"),(0,e._)("span",{class:"d-block mb-1"},"ä¿¡ç”¨å¡")],-1),w={class:"col-md-12 mt-0 mb-15 mt-md-4"},k={class:"row jy-content-end"},x={class:"col-md-6"},C={class:"oneProduct-buy"},$=(0,e._)("p",{class:"mb-2"},"æ•¸é‡",-1),L={class:"amount mb-4"},z=["value"],D=["disabled"],q={key:0},B=(0,e._)("i",{class:"fas fa-pulse fa-spinner"},null,-1),H=[B],P={key:1},j={class:"col-lg-12 mb-5"},F={class:"oneProduct-desc"},T=(0,e._)("h4",{class:"text-medium text-center text-c-primary f-size-xs"},"å•†å“èªªæ˜Ž",-1),Q=(0,e._)("hr",null,null,-1),M=["innerHTML"],Z=(0,e._)("hr",null,null,-1),A={class:"col-lg-12 mb-5"},N=(0,e._)("h4",{class:"text-title mb-2"},"åˆ¥äººä¹Ÿé€›éŽ",-1),O={class:"d-flex refrence"};function U(t,i,s,B,U,V){const E=(0,e.up)("CardView");return(0,e.wg)(),(0,e.iD)("div",d,[(0,e._)("div",a,[(0,e._)("div",r,[(0,e._)("div",c,[(0,e._)("img",{src:U.product.imageUrl,alt:""},null,8,n)])]),(0,e._)("div",l,[(0,e._)("div",u,[(0,e._)("h3",p,(0,o.zw)(U.product.title),1),(0,e._)("h4",m,[""!==U.product.price?((0,e.wg)(),(0,e.iD)("span",h,"ç‰¹åƒ¹NT$ "+(0,o.zw)(U.product.price),1)):((0,e.wg)(),(0,e.iD)("span",v,"NT$"+(0,o.zw)(U.product.origin_price),1))]),(0,e._)("p",g,[_,(0,e._)("span",b,"é‡é‡ï¼š"+(0,o.zw)(U.product.content),1),(0,e._)("span",y,"è¦æ ¼ï¼š"+(0,o.zw)(U.product.unit),1)]),f])]),(0,e._)("div",w,[(0,e._)("div",k,[(0,e._)("div",x,[(0,e._)("div",C,[$,(0,e._)("div",L,[(0,e._)("div",{onClick:i[0]||(i[0]=(...t)=>V.addQty&&V.addQty(...t)),class:"add"},"+"),(0,e._)("input",{value:U.qty,type:"number",name:"amount",min:"1",max:"20",step:"1",readonly:""},null,8,z),(0,e._)("div",{onClick:i[1]||(i[1]=(...t)=>V.decQty&&V.decQty(...t)),class:"dec"},"-")]),(0,e._)("button",{onClick:i[2]||(i[2]=t=>V.addCart(U.qty,U.product.id)),class:"user-btn user-btn-primary text-center py-2",type:"button",disabled:U.isBtnLoading===U.product.id},[U.isBtnLoading===U.product.id?((0,e.wg)(),(0,e.iD)("span",q,H)):((0,e.wg)(),(0,e.iD)("span",P,"åŠ å…¥è³¼ç‰©è»Š"))],8,D)])])])]),(0,e._)("div",j,[(0,e._)("div",F,[T,Q,(0,e._)("p",{class:"text-medium pt-5",innerHTML:U.product.description},null,8,M),Z])]),(0,e._)("div",A,[N,(0,e._)("div",O,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(U.products,(t=>((0,e.wg)(),(0,e.iD)("div",{key:t.id,class:"card-item pointer"},[(0,e.Wm)(E,{onAddCart:V.addCart,"title-color":"white",product:t,"is-loading":U.isBtnLoading},null,8,["onAddCart","product","is-loading"])])))),128))])])])])}var V=s(1417),E={props:["id"],data(){return{product:{},products:[],isBtnLoading:"",qty:1}},components:{CardView:V.Z},methods:{addQty(){this.qty>=20?this.qty=20:this.qty+=1},decQty(){this.qty<=1?this.qty=1:this.qty-=1},getCart(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ginjack/cart").then((t=>{this.$emitter.emit("updateCart",t.data.data)})).catch((t=>{console.dir(t)}))},addCart(t=1,i){this.isBtnLoading=i;const s={data:{product_id:i,qty:t}};this.$http.post("https://vue3-course-api.hexschool.io/v2/api/ginjack/cart",s).then((t=>{this.getCart(),this.isBtnLoading="",this.qty=1,this.$swal("æˆåŠŸ!",`${t.data.data.product.title}-åŠ å…¥è³¼ç‰©è»Š`,"success")})).catch((t=>{console.dir(t)}))},getProduct(){this.$emitter.emit("isLoading",!0),this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/ginjack/product/${this.id}`).then((t=>{this.product=t.data.product,this.$emitter.emit("isLoading",!1)})).catch((t=>{this.$emitter.emit("isLoading",!1),console.dir(t)}))},routerTo(t){this.$router.push(t)}},watch:{id(){this.getProduct()}},mounted(){this.getProduct(),this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ginjack/products").then((t=>{t.data.products.forEach(((t,i)=>{i<=3&&this.products.push(t)}))})).catch((t=>{console.dir(t)}))}},I=s(89);const K=(0,I.Z)(E,[["render",U]]);var W=K}}]);
//# sourceMappingURL=971.d3b02783.js.map